# 石涛书画鉴定系统 - 功能测试文档

---

## 目录

- [系统概述](#系统概述)
- [已实现功能清单](#已实现功能清单)
- [测试用例集](#测试用例集)
  - [功能1: 切片相似画作查找](#功能1-切片相似画作查找)
  - [功能2: 显示当前画作印章](#功能2-显示当前画作印章)
  - [功能3: 查找印章标准件](#功能3-查找印章标准件)
  - [功能4: 显示所有标准印](#功能4-显示所有标准印)
  - [功能5: 按画作名查找相似画作](#功能5-按画作名查找相似画作)
  - [功能6: 按画作名显示印章](#功能6-按画作名显示印章)
  - [功能7: 显示石涛所有画作](#功能7-显示石涛所有画作)
  - [功能8: 智能参考文献查询](#功能8-智能参考文献查询)
  - [功能9: 按印章编号查找标准印](#功能9-按印章编号查找标准印)
  - [功能10: 按标准印名查找印章](#功能10-按标准印名查找印章)

---

## 已实现功能清单

| 序号 | 功能ID | 功能名称 | 关系类型 | 是否需要选中 | 实现状态 |
|------|--------|----------|----------|--------------|----------|
| 1 | find_similar_paintings_by_segment | 切片相似画作查找 | P-P | 需要选中切片 | ✅ 已实现 |
| 2 | show_current_painting_seals | 显示当前画作印章 | P-S | 无需选中 | ✅ 已实现 |
| 3 | find_standard_seal_by_selected_seal | 查找印章标准件 | S-SS | 需要选中印章 | ✅ 已实现 |
| 4 | show_all_standard_seals | 显示所有标准印 | A-SS | 无需选中 | ✅ 已实现 |
| 5 | find_similar_paintings_by_name | 按画作名查找相似画作 | P-P | 无需选中 | ✅ 已实现 |
| 6 | show_painting_seals_by_name | 按画作名显示印章 | P-S | 无需选中 | ✅ 已实现 |
| 7 | show_all_paintings_by_author | 显示石涛所有画作 | A-P | 无需选中 | ✅ 已实现 |
| 8 | smart_reference_query | 智能参考文献查询 | P-R | 无需选中 | ✅ 已实现 |
| 9 | find_standard_seal_by_code | 按印章编号查找标准印 | S-SS | 无需选中 | ✅ 已实现 |
| 10 | show_seals_by_standard_seal_name | 按标准印名查找印章 | SS-S | 无需选中 | ✅ 已实现 |

---

## 测试用例集

---

### 功能1: 切片相似画作查找

#### 测试用例

##### 测试用例1.1: 单个切片查找(高相似度)
**操作步骤**:
1. 打开画作 D001430 (归去来图)
2. 选中切片 `D001430_0_seg_001.png`
3. 输入问题: "这个切片和哪些画相似?"

**预期结果**:

![image-20251112172338334](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112172338334.png)

##### 测试用例1.2: 多个切片联合查找
**操作步骤**:
1. 打开画作 D001430 (归去来图)
2. 选中多个切片(如 seg_001, seg_002, seg_003)
3. 输入问题: "查找与这些切片相似的画作"

**预期结果**:

![image-20251112172621871](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112172621871.png)

##### 测试用例1.3: 未找到相似画作
**操作步骤**:
1. 选中某个独特的切片
2. 提高相似度阈值到0.95-1.0
3. 输入问题: "有哪些画和这个切片相似?"

**预期结果**:

![image-20251112172917606](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112172917606.png)

---

### 功能2: 显示当前画作印章

#### 测试用例

##### 测试用例2.1: 显示有印章的画作
**操作步骤**:
1. 打开画作 D004394 (云山图)
2. 输入问题: "这幅画有哪些印章?"

**预期结果**:

![image-20251112173120420](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112173120420.png)

##### 测试用例2.2: 显示无印章的画作
**操作步骤**:
1. 打开没有印章记录的画作
2. 输入问题: "显示所有印章"

**预期结果**:

![image-20251112173224869](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112173224869.png)

---

### 功能3: 查找印章标准件

##### 测试用例3.1: 有标准件的印章
**操作步骤**:
1. 打开画作 D004394 (云山图)
2. 选中印章0058
3. 输入问题: "这个印章的标准件是什么?"

**预期结果**:

![image-20251112173403676](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112173403676.png)

##### 测试用例3.2: 无标准件的印章
**操作步骤**:
1. 选中一个 `has_reference=false` 的印章
2. 输入问题: "查找标准印"

**预期结果**:

![image-20251112174658480](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112174658480.png)

##### 测试用例3.3: 选中多个印章
**操作步骤**:
1. 选中多个印章(如0058, 0059)
2. 输入问题: "这些印章的标准件"

**预期结果**:

![image-20251112174853454](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112174853454.png)

---

### 功能4: 显示所有标准印

#### 测试用例

##### 测试用例4.1: 显示所有标准印
**操作步骤**:

1. 输入问题: "显示石涛的所有标准印"

**预期结果**:

- 显示99个标准印列表

---

### 功能5: 按画作名查找相似画作

#### 测试用例

##### 测试用例5.1: 明确指定画作名
**操作步骤**:
1. 在图中添加画作节点 "庐山草堂图"
2. 选中第四个切片提问“找到相似图”
3. 在新加入的图中发现云山图
4. 输入问题: "找到与云山图相似的画作"

**预期结果**:

![image-20251112175233771](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112175233771.png)

---

### 功能6: 按画作名显示印章

#### 测试用例

##### 测试用例6.1: 指定画作名查询
**操作步骤**:

1. 在图中添加画作节点 "庐山草堂图"
2. 选中第四个切片提问“找到相似图”
3. 在新加入的图中发现云山图
4. 输入问题: "云山图的印章有哪些?"

**预期结果**:

![image-20251112175355907](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112175355907.png)

---

### 功能7: 显示石涛所有画作

#### 测试用例

##### 测试用例7.1: 显示所有画作
**操作步骤**:
1. 输入问题: "石涛的所有画作"

**预期结果**:
- 显示石涛所有画作列表

---

### 功能8: 智能参考文献查询

#### 测试用例

##### 测试用例8.1: 特定画作文献查询
**操作步骤**:
1. 在图中添加 "庐山观瀑图"
2. 输入问题: "庐山观瀑图的参考文献有哪些?"

**预期结果**:

![image-20251112180026472](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112180026472.png)

##### 测试用例8.2: 主题性文献查询
**操作步骤**:

1. 在图中添加多幅画作
2. 输入问题: "哪些资料提到了郭熙"

**预期结果**:

![image-20251112180532091](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112180532091.png)

### 功能9: 按印章编号查找标准印

#### 测试用例

##### 测试用例9.1: 完整编号格式
**操作步骤**:

1. 在图中添加画作节点 "庐山草堂图"
2. 选中第四个切片提问“找到相似图”
3. 在新加入的图中发现云山图
4. 输入问题: "云山图的印章有哪些?"
5. 输入问题: "印章0058的标准件是什么?"

**预期结果**:

![image-20251112175555213](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112175555213.png)

---

### 功能10: 按标准印名查找印章

#### 测试用例

##### 测试用例10.1: 名称
**操作步骤**:

1. 在图中添加画作节点 "庐山草堂图"
2. 选中第四个切片提问“找到相似图”
3. 在新加入的图中发现云山图
4. 输入问题: "云山图的印章有哪些?"
5. 输入问题: "印章0058的标准件是什么?"
6. 输入问题: "找到所有使用法门的印章"

**预期结果**:

![image-20251112175722723](C:\Users\Danielle\AppData\Roaming\Typora\typora-user-images\image-20251112175722723.png)

